{"version":3,"sources":["images/logo.png","components/header/index.js","components/header/header.js","context/filter/filterContext.js","components/filter/index.js","components/filter/filter.js","context/tabs/tabsContext.js","components/tabs/index.js","components/tabs/tabs.js","components/tickets-list/index.js","components/tickets-list/tickets-list.js","components/tickets/index.js","components/tickets/tickets.js","components/content/index.js","components/content/content.js","context/types.js","context/filter/filterReducer.js","context/filter/filterState.js","context/tabs/tabsReducer.js","context/tabs/tabsState.js","App.js","index.js"],"names":["Header","src","logo","alt","FilterContext","createContext","Filter","useContext","filters","onChangeCheckbox","onChecked","event","target","id","className","type","onClick","TabsContext","Tabs","tabsButtons","onChangeTabs","changeTabs","TicketsList","tickets","loading","loadingError","getTickets","useEffect","Ticket","onTickets","TicketListContainer","Fragment","slice","map","ticket","index","price","carrier_logo","to_origin","to_destination","to_time_start_hour","to_time_start_min","toFlyingTimes","hours","mins","to_hours","to_mins","to_transfers","length","stops","back_origin","back_destination","back_time_start_hour","back_time_start_min","backFlyingTimes","back_hours","back_mins","back_transfers","Tickets","Content","CHANGE_CHECKBOX","CHANGE_TABS","FETCH_TICKETS","TICKETS_LOADED","FETCH_ERROR","handlers","state","payload","console","log","filterReducer","action","DEFAULT","FilterState","children","useReducer","dispatch","Provider","value","item","buttonList","ticketUrlId","tabsReducer","TabsState","calculateFlyingTime","start","duration","Number","calculateFlyingHours","start_hours","duration_hours","start_mins","duration_mins","time","overmins","transfers__length_func","transfers","transfers_length","to","segments","back","a","axios","get","then","res","data","searchId","catch","error","ticketList","duration_to_hours","Math","floor","duration_to_mins","duration_back_hours","duration_back_mins","date","substr","indexOf","carrier","origin","destination","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b17339c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.38d71b76.png\";","import Header from \"./header\";\r\n\r\nexport default Header","import React from \"react\";\r\nimport \"./header.scss\";\r\nimport logo from '../../images/logo.png';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header>\r\n            <img src={logo} alt=\"logo\"/>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import {createContext} from 'react';\r\n\r\nexport const FilterContext = createContext();","import Filter from \"./filter\";\r\n\r\nexport default Filter","import React, { useContext } from \"react\";\r\nimport \"./filter.scss\";\r\nimport { FilterContext } from \"../../context/filter/filterContext\";\r\n\r\nconst Filter = () => {\r\n    const {filters, onChangeCheckbox} = useContext(FilterContext)\r\n\r\n    const onChecked = (event) => {\r\n         \r\n        onChangeCheckbox(event.target.id)\r\n    }\r\n    return (\r\n      \r\n        <section className=\"filter\">\r\n            <h2>КОЛИЧЕСТВО ПЕРЕСАДОК</h2>\r\n            <ul>\r\n\r\n            <li className={filters[0]} >\r\n                <input type=\"checkbox\" >\r\n                </input>\r\n                <label id=\"0\" onClick = {(event) => onChecked(event)}>Все</label>\r\n            </li>\r\n            <li className={filters[1]} >\r\n                <input type=\"checkbox\" >                    \r\n                </input>\r\n                <label  id=\"1\" onClick = {(event) => onChecked(event)}>Без пересадок</label>\r\n            </li>\r\n            <li className={filters[2]}  >\r\n                <input type=\"checkbox\"> \r\n                </input>\r\n                <label  id=\"2\" onClick = {(event) => onChecked(event)}>1 пересадка</label>\r\n            </li>\r\n            <li className={filters[3]} >\r\n                <input type=\"checkbox\" >\r\n                </input>\r\n                <label   id=\"3\" onClick = {(event) => onChecked(event)}>2 пересадки</label>\r\n            </li>\r\n            <li  className={filters[4]}  >\r\n                <input type=\"checkbox\">\r\n                </input>\r\n                <label    id=\"4\" onClick = {(event) => onChecked(event)}>3 пересадки</label>\r\n            </li>\r\n            </ul>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Filter","import {createContext} from 'react';\r\n\r\nexport const TabsContext = createContext();","import Tabs from \"./tabs\";\r\n\r\nexport default Tabs","import React, {useContext} from \"react\";\r\nimport { TabsContext } from \"../../context/tabs/tabsContext\" \r\nimport \"./tabs.scss\";\r\n\r\n\r\n\r\nconst Tabs = () => {\r\n\r\n    const {tabsButtons, onChangeTabs} = useContext(TabsContext)\r\n    \r\n    const changeTabs = (event) => {\r\n      \r\n        onChangeTabs(event.target.id);\r\n       \r\n    }\r\n\r\n    return (\r\n        <div className=\"tabs\">\r\n            <button onClick={(event) => changeTabs(event)} id=\"0\" className={tabsButtons[0]}>САМЫЙ ДЕШЕВЫЙ</button>\r\n            <button onClick={(event) => changeTabs(event)} id=\"1\"  className={tabsButtons[1]}>САМЫЙ БЫСТРЫЙ</button>\r\n            <button onClick={(event) => changeTabs(event)} id=\"2\"  className={tabsButtons[2]}>ОПТИМАЛЬНЫЙ</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Tabs","import TicketsList from \"./tickets-list\";\r\n\r\nexport default TicketsList","import React, { useContext, useEffect } from \"react\";\r\nimport \"./tickets-list.scss\";\r\nimport { TabsContext } from \"../../context/tabs/tabsContext\";\r\n\r\n\r\nconst TicketsList = () => {\r\n    const {tickets, loading, loadingError, getTickets} = useContext(TabsContext);\r\n\r\n    useEffect(() => {\r\n        getTickets()}, []);\r\n\r\n    const Ticket = () =>  {\r\n      \r\n        \r\n        \r\n            const onTickets = () => {\r\n                getTickets();\r\n                \r\n            }\r\n           \r\n\r\n            const TicketListContainer = () =>{\r\n                return (\r\n               <React.Fragment>\r\n                <button onClick={onTickets} />\r\n                                        {loadingError\r\n                                        ?\r\n                                        <div>\r\n                                            <h2>Возникла проблема при загрузке</h2>\r\n                                            <button onClick={getTickets}>Попробуйте снова</button>\r\n                                        </div>\r\n                                        :<div>\r\n                                            {!loading && !loadingError\r\n                                                ?\r\n                                                tickets.slice(0,5).map(function(ticket, index)  {\r\n                                                    return (\r\n                                                <li className=\"ticket\" key={index}>\r\n                                                    <div className =\"ticket__header\">\r\n                                                        <p>{ticket.price} &#8381;</p>\r\n                                                        <img className={ticket.carrier_logo} alt={ticket.carrier_logo}></img>\r\n                                                    </div>\r\n                                                    <div className=\"ticket__to-from\">\r\n                                                        <div className=\"ticket-block\">\r\n                                                            <p>{ticket.to_origin}-{ticket.to_destination}</p>\r\n                                                            <p>{ticket.to_time_start_hour}:{ticket.to_time_start_min} -\r\n                                                            {ticket.toFlyingTimes.hours}:{ticket.toFlyingTimes.mins}</p>\r\n                                                        </div>\r\n                                                        <div className=\"ticket-block\">\r\n                                                            <p>В ПУТИ</p>\r\n                                                            <p>{ticket.to_hours}ч {ticket.to_mins}м</p>\r\n                                                        </div>\r\n                                                        <div className=\"ticket-block\">\r\n                                                            <p>{ticket.to_transfers.length}</p>\r\n                                                            <p>{ticket.to_transfers.stops}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"ticket__to-from\">\r\n                                                        <div className=\"ticket-block\">\r\n                                                            <p>{ticket.back_origin}-{ticket.back_destination}</p>\r\n                                                            <p>{ticket.back_time_start_hour}:{ticket.back_time_start_min}\r\n                                                            - {ticket.backFlyingTimes.hours}:{ticket.backFlyingTimes.mins}</p>\r\n                                                        </div>\r\n                                                        <div className=\"ticket-block\">\r\n                                                            <p>В ПУТИ</p>\r\n                                                            <p>{ticket.back_hours}ч {ticket.back_mins}м</p>\r\n                                                        </div>\r\n                                                        <div className=\"ticket-block\">\r\n                                                            <p>{ticket.back_transfers.length}</p>\r\n                                                            <p>{ticket.back_transfers.stops}</p>\r\n                                                        </div>\r\n                                                        </div>\r\n                                                    \r\n                                                \r\n                                                        </li>\r\n                                                    )\r\n                                                })\r\n                                                    : <h2>ИДЕТ ЗАГРУЗКА...</h2>\r\n                                                }\r\n                                                </div>\r\n                                        }\r\n                           \r\n                                        \r\n                             \r\n                  </React.Fragment>\r\n                )\r\n                                    }\r\n                                        return (\r\n                                            <TicketListContainer />\r\n            )\r\n            \r\n       \r\n    }\r\n    return (\r\n        <ul className=\"ticket__ul\">\r\n            \r\n            <Ticket />\r\n        </ul>\r\n\r\n    )\r\n}\r\n\r\nexport default TicketsList","import Tickets from \"./tickets\";\r\n\r\nexport default Tickets","import React from \"react\";\r\nimport \"./tickets.scss\";\r\nimport Tabs from \"../tabs\";\r\nimport TicketsList from \"../tickets-list\";\r\nconst Tickets = () => {\r\n    return (\r\n        <section className=\"tickets\">\r\n            <Tabs />\r\n            <TicketsList />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Tickets","import Content from \"./content\";\r\n\r\nexport default Content","import React from \"react\";\r\nimport './content.scss';\r\nimport Filter from \"../filter\";\r\nimport Tickets from \"../tickets\";\r\n\r\nconst Content = () => {\r\n    return (\r\n        <section className=\"content\" >\r\n            <Filter/>\r\n            <Tickets />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Content","export const CHANGE_CHECKBOX='CHANGE_CHECKBOX';\r\nexport const CHANGE_TABS='CHANGE_TABS';\r\nexport const FETCH_TICKETS='FETCH_TICKETS';\r\nexport const FETCH_URL_ID='FETCH_URL_ID';\r\nexport const TICKETS_LOADED='TICKETS_LOADED';\r\nexport const FETCH_ERROR='FETCH_ERROR'","import {CHANGE_CHECKBOX} from \"../types\";\r\n\r\n\r\nconst handlers = {\r\n    [CHANGE_CHECKBOX] : (state, {payload}) => {\r\n       const filters = state.filters.slice(0);\r\n       \r\n\r\n       if (filters[payload] === 'selected') {        \r\n        filters[payload]  = 'unselected'\r\n       }\r\n       else {        \r\n        filters[payload]  = 'selected'\r\n       }\r\n       \r\n       if (filters[0] === 'selected' && payload==='0') {\r\n           console.log('all')\r\n            filters[1]='selected';\r\n            filters[2]='selected';\r\n            filters[3]='selected';\r\n            filters[4]='selected';\r\n       }\r\n       if (filters[1]==='selected' && filters[2]==='selected' && filters[3]==='selected' && filters[4]==='selected'){\r\n           filters[0]='selected'\r\n       }\r\n       if (filters[1]!=='selected' || filters[2]!=='selected' || filters[3]!=='selected' || filters[4]!=='selected'){\r\n        filters[0]='unselected'\r\n    }\r\n\r\n      \r\n    return (\r\n    {...state, filters: filters}\r\n    )\r\n    }\r\n    ,\r\n\r\n\r\n\r\n    DEFAULT: state => state\r\n}\r\n\r\nexport const filterReducer = (state, action) => {\r\n    const handler = handlers[action.type] || handlers.DEFAULT\r\n    return handler(state,action)\r\n}","import React, {useReducer} from \"react\";\r\nimport {FilterContext} from './filterContext';\r\nimport { filterReducer } from \"./filterReducer\";\r\nimport {CHANGE_CHECKBOX} from '../types'\r\n\r\nexport const FilterState = ({children}) => {\r\n    const initialState = {\r\n        filters: ['unselected', 'unselected',\r\n        'unselected',\r\n        'unselected',\r\n        'unselected'\r\n        ]\r\n    }\r\n    const [state, dispatch] = useReducer(filterReducer, initialState);\r\n\r\n    const onChangeCheckbox = (item) => dispatch(({type: CHANGE_CHECKBOX, payload:item}))\r\n\r\n\r\n        const {filters} = state;\r\n\r\n        return (\r\n            <FilterContext.Provider value={{\r\n                filters, onChangeCheckbox\r\n            }}>\r\n                {children}\r\n            </FilterContext.Provider>\r\n        )\r\n}","import { CHANGE_TABS,FETCH_TICKETS,FETCH_URL_ID, TICKETS_LOADED, FETCH_ERROR } from \"../types\";\r\n\r\nconst handlers = {\r\n    [CHANGE_TABS]: (state, {payload}) => {\r\n        const buttonList = state.tabsButtons.slice(0);\r\n        buttonList[0]='unselected';\r\n        buttonList[1]='unselected';\r\n        buttonList[2]='unselected';\r\n        buttonList[payload] = 'selected'\r\n\r\n      return (        \r\n        {...state, tabsButtons:buttonList}        \r\n        )\r\n      }\r\n        ,\r\n      [FETCH_TICKETS]: (state, {payload}) => {\r\n        return (\r\n          {...state, tickets: payload, loading:false}\r\n        )\r\n      },\r\n      [FETCH_URL_ID]: (state, {payload}) => ({...state, ticketUrlId: payload}),  \r\n      [TICKETS_LOADED] :(state) => ({...state, loading:false}),\r\n      [FETCH_ERROR]: (state) => ({...state, loadingError:true}),\r\n      DEFAULT: state => state\r\n}\r\n\r\nexport const tabsReducer = (state, action) => {\r\n    const handler = handlers[action.type] || handlers.DEFAULT\r\n    return handler(state, action)\r\n}","import React, { useReducer} from \"react\";\r\nimport { TabsContext } from './tabsContext';\r\nimport axios from 'axios'\r\nimport { tabsReducer } from \"./tabsReducer\";\r\nimport {CHANGE_TABS, FETCH_TICKETS, TICKETS_LOADED, FETCH_ERROR} from \"../types\";\r\n\r\nexport const TabsState = ({children}) => {\r\n    const initialState = {\r\n        tabsButtons : [ 'selected', 'unselected', 'unselected'],\r\n        loading: true,\r\n        ticketUrlId:'',\r\n        loadingError: false\r\n    }\r\n\r\n    const [state, dispatch] = useReducer (tabsReducer, initialState);\r\n\r\n    // tickets successfully loaded\r\n    const loaded = () => dispatch((({type:TICKETS_LOADED})))\r\n\r\n    // user change tabs button\r\n    const onChangeTabs = (item) => dispatch(({type: CHANGE_TABS, payload: item}));  \r\n\r\n    // calculation arrivet time \r\n    const calculateFlyingTime = (start, duration) => {\r\n        const sum = Number(start)+Number(duration);\r\n        return sum\r\n    }\r\n\r\n    // calculation finish hours mins \r\n    const calculateFlyingHours = (start_hours, duration_hours, start_mins, duration_mins) => {\r\n        let hours = calculateFlyingTime(start_hours, duration_hours);\r\n       \r\n        let mins = calculateFlyingTime(start_mins, duration_mins);\r\n        let time ={hours,mins}\r\n        const overmins = (time) => {\r\n            if(time.mins > 59) {\r\n               time.mins=(time.mins)%60;\r\n               time.hours=time.hours +1;\r\n              \r\n               return time  ;                \r\n                } return time         }\r\n        time =overmins(time);\r\n        if(time.hours>23) {time.hours = (time.hours)%24; console.log('ololo')}\r\n        if(time.hours < 10) {time.hours = '0' + time.hours}\r\n        if(time.mins < 10) { time.mins = '0' + time.mins}\r\n        return time\r\n    }   \r\n\r\n    //\r\n    const transfers__length_func = (tickets) => {\r\n        let transfers ={};\r\n        \r\n        const transfers_length = (transfers) => {\r\n            if (transfers.length === 0) {\r\n               return {\r\n                   length: 'БЕЗ ПЕРЕСАДОК',\r\n                   stops: ''\r\n               }\r\n            }\r\n            if (transfers.length === 1) {\r\n                return {\r\n                    length: '1 ПЕРЕСАДКА',\r\n                    stops: transfers[0]\r\n \r\n                }\r\n            }\r\n            if (transfers.length === 2) {\r\n                return {\r\n                    length: `${transfers.length} ПЕРЕСАДКИ`,\r\n                    stops: transfers[0] + ', ' + transfers[1]\r\n                }\r\n            }\r\n            if (transfers.length === 3) {\r\n                return {\r\n                    length: `${transfers.length} ПЕРЕСАДКИ`,\r\n                    stops: transfers[0] + ', ' + transfers[1] + ', ' + transfers[2] \r\n                }\r\n            }\r\n        }\r\n        transfers.to = transfers_length(tickets.segments[0].stops);\r\n        transfers.back = transfers_length(tickets.segments[1].stops);\r\n        return transfers\r\n    }\r\n\r\n    const getTickets = async () => {\r\n        axios.get('https://front-test.beta.aviasales.ru/search')\r\n        .then((res) => {\r\n           \r\n            return res.data.searchId\r\n        })\r\n        .catch((error) => {\r\n            dispatch(({type: FETCH_ERROR, payload: error}))\r\n        })\r\n       \r\n        .then((res) => {\r\n            axios.get(`https://front-test.beta.aviasales.ru/tickets?searcfhId=${res}`)\r\n        .catch((error) => {\r\n            dispatch(({type: FETCH_ERROR, payload: error}))\r\n        })\r\n            .then((res) => {\r\n                const ticketList = res.data.tickets.map(function(ticket) {\r\n                    let duration_to_hours = Math.floor((ticket.segments[0].duration)/60);\r\n                    let duration_to_mins = (ticket.segments[0].duration)%60;\r\n                    let duration_back_hours = Math.floor((ticket.segments[1].duration)/60);\r\n                    let duration_back_mins = (ticket.segments[1].duration)%60;\r\n                    let to_time_start_hour = ticket.segments[0].date.substr(ticket.segments[0].date.indexOf('T')+1,2);\r\n                    let to_time_start_min = ticket.segments[0].date.substr(ticket.segments[0].date.indexOf('T')+4,2);\r\n                    let back_time_start_hour = ticket.segments[0].date.substr(ticket.segments[1].date.indexOf('T')+1,2);\r\n                    let back_time_start_min = ticket.segments[0].date.substr(ticket.segments[1].date.indexOf('T')+4,2);\r\n                    let toFlyingTimes = calculateFlyingHours(to_time_start_hour, duration_to_hours,\r\n                        to_time_start_min, duration_to_mins);\r\n                    let backFlyingTimes = calculateFlyingHours(back_time_start_hour, duration_back_hours,\r\n                        back_time_start_min, duration_back_mins);\r\n                    let transfers = transfers__length_func(ticket);\r\n                    \r\n\r\n                    return {\r\n                        loading: false,\r\n                        price: ticket.price,\r\n                        carrier_logo: ticket.carrier,\r\n                        to_origin: ticket.segments[0].origin,\r\n                        to_destination: ticket.segments[0].destination,\r\n                        back_origin: ticket.segments[1].origin,\r\n                        back_destination: ticket.segments[1].origin,\r\n                        to_hours: duration_to_hours,\r\n                        to_mins: duration_to_mins,\r\n                        back_hours: duration_back_hours,\r\n                        back_mins: duration_back_mins,\r\n                      \r\n                        to_transfers: transfers.to,\r\n                       \r\n                        back_transfers: transfers.back,\r\n                        to_time_start_hour: to_time_start_hour,\r\n                        to_time_start_min: to_time_start_min,\r\n                        backFlyingTimes,\r\n                        toFlyingTimes,\r\n                        back_time_start_hour,\r\n                        back_time_start_min,\r\n                        \r\n                }\r\n                }\r\n                )\r\n\r\n                \r\n                dispatch(({type: FETCH_TICKETS, payload: ticketList}));\r\n            })\r\n           \r\n        })\r\n       \r\n    }\r\n\r\n\r\n    const {tabsButtons, tickets, loading, loadingError} = state;\r\n\r\n    return (\r\n        <TabsContext.Provider value={{tabsButtons, onChangeTabs, getTickets, tickets, loading, loadingError}}>\r\n            {children}\r\n        </TabsContext.Provider>\r\n    )\r\n}","import React from 'react';\nimport './App.scss';\nimport Header from './components/header';\nimport Content from './components/content';\nimport { FilterState } from './context/filter/filterState';\nimport { TabsState } from './context/tabs/tabsState';\n\nfunction App() {\n  return (\n    <TabsState>\n      <FilterState>\n        \n          <Header />\n          <Content />\n       \n      </FilterState>\n      </TabsState>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}